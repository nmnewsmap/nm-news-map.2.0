<!DOCTYPE html>
<html>
<head>
    <title>County GeoJSON Test</title>
</head>
<body>
    <h1>County GeoJSON Test</h1>
    <div id="results"></div>
    
    <script>
        console.log('Testing county GeoJSON loading...');
        
        fetch('nm_counties_wgs84.geojson')
            .then(response => {
                console.log('Fetch response status:', response.status);
                console.log('Fetch response ok:', response.ok);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                console.log('County GeoJSON loaded successfully!');
                console.log('Number of features:', data.features ? data.features.length : 'No features');
                console.log('First county:', data.features && data.features[0] ? data.features[0].properties.NAME : 'No name');
                
                document.getElementById('results').innerHTML = `
                    <h2>✅ County GeoJSON Test Results</h2>
                    <p><strong>Status:</strong> SUCCESS</p>
                    <p><strong>Number of counties:</strong> ${data.features ? data.features.length : 'Unknown'}</p>
                    <p><strong>First county:</strong> ${data.features && data.features[0] ? data.features[0].properties.NAME : 'Unknown'}</p>
                    <p><strong>GeoJSON type:</strong> ${data.type}</p>
                `;
            })
            .catch(error => {
                console.error('Error loading county GeoJSON:', error);
                document.getElementById('results').innerHTML = `
                    <h2>❌ County GeoJSON Test Results</h2>
                    <p><strong>Status:</strong> FAILED</p>
                    <p><strong>Error:</strong> ${error.message}</p>
                `;
            });
    </script>
</body>
</html>
